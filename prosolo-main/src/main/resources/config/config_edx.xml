<?xml version="1.0" encoding="UTF-8"?>
<config xmlns="http://www.prosolo.org" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<init>
		<bc>4</bc>
		<!-- based on this setting, appropriate messages.properties file will be used -->
		<bc-name>dd</bc-name>
		<formatDB>false</formatDB>
		<importData>false</importData>
		<indexTrainingSet>false</indexTrainingSet>
		<default-user>
			<name>Admin</name>
			<lastname>Admin</lastname>
			<email>prosolo.admin@gmail.com</email>
			<pass>prosolo@2014</pass>
		</default-user>

	</init>

	<!-- Whether or not to re-create the databases true -> populate db with 
		test data false -> keep data from last run -->

	<!-- log4j config file -->
	<logging-config>config/log4j.properties</logging-config>

	<!-- DB connection properties -->
	<db-config>
		<!-- DataLayer for MySQL database -->
		<dialect>org.hibernate.dialect.MySQLInnoDBDialect</dialect>
		<driver>com.mysql.jdbc.Driver</driver>

		<!-- url>jdbc:mysql://localhost:3306/intelleo</url> <user>intelleo</user> 
			<password>vGqdR7lOSOvegln</password -->
		<url>jdbc:mysql://edxreadreplica.ccc7o6g4ii2v.us-east-1.rds.amazonaws.com:3306/prosolo</url>
		<user>prosolo</user>
		<password>Cm38Uf32R9MZg5y</password>
	</db-config>
	<mongo-db-config>
		<db-name>prosolo</db-name>
		<db-servers><db-server><db-host>ip-10-111-154-110</db-host><db-port>27017</db-port></db-server></db-servers>
	</mongo-db-config>
	<app-config>
		<development-mode>false</development-mode>
		<developer-email>prosolo.admin@gmail.com</developer-email>
		<maintenance>false</maintenance>
		<domain>http://54.162.9.46:8080/prosolo/</domain>
		<default-refresh-rate>60</default-refresh-rate>
		<suggested-learning-refresh-rate>6000</suggested-learning-refresh-rate>
		<messages-inbox-refresh-rate>30</messages-inbox-refresh-rate>
		<notifications-refresh-rate>30</notifications-refresh-rate>
		<featured-news-refresh-rate>600</featured-news-refresh-rate>
		<!-- How much time in minutes have to pass after last indexing of Documents 
			before it can be indexed again (e.g. 1440 for one day, 10080 for one week -->
		<default-reindex-time>1000</default-reindex-time>
		<!-- How many items should be shown in search box by default -->
		<default-search-items-number>3</default-search-items-number>
		<!-- How many items should be shown in global search box by default -->
		<global-search-items-number>2</global-search-items-number>
		<!-- How many items should be shown in side box by default -->
		<default-sidebox-elements-number>3</default-sidebox-elements-number>
		<!-- How many top results will be returned from the More???LikeThis services -->
		<default-likethis-items-number>5</default-likethis-items-number>
		<password-reset-key-validity-hours>24</password-reset-key-validity-hours>
		<home>
			<learning-progress>
				<number-of-competences>3</number-of-competences>
				<number-of-goals>3</number-of-goals>
			</learning-progress>
		</home>
		<goals>
			<goal-wall-page-size>7</goal-wall-page-size>
		</goals>
		<profile>
			<goals-to-show>5</goals-to-show>
		</profile>
		<notifications>
			<top-notifications-to-show>5</top-notifications-to-show>
		</notifications>
		<registration>
			<google>false</google>
			<edx>true</edx>
			<yahoo>false</yahoo>
			<self-registration>true</self-registration>
		</registration>
	</app-config>
	<services>
		<user>
			<default-avatar-path>resources/images/users/default/</default-avatar-path>
			<user-avatar-path>images/users/</user-avatar-path>
			<default-avatar-name>default</default-avatar-name>
		</user>
		<activity-report>
 			<report-directory>reports</report-directory>
 		</activity-report>
	</services>

	<file-management>
		<!-- File to which the files will be uploaded. Application need to have 
			privileges to write to this file. Must end with slash (/), or backslash (\) 
			depending on the OS. -->
		<uplaod-path>${user.home}/upload/</uplaod-path>

		<!-- Folder from which the resource will be available online, e.g. http://example.com/files/. 
			Must end with slash (/) -->
		<url-prefix-folder>files/</url-prefix-folder>

		<buffer-size>8192</buffer-size> <!-- 8KB in butes -->

		<images>
			<!-- Path inside web context relative to the location of the file type 
				icons -->
			<file-type-icons-path>/resources/images/teambox-free-file-icons/</file-type-icons-path>
		</images>
		<file-store-service-url>https://s3.amazonaws.com</file-store-service-url>
		<file-store-bucket-name>prosoloedx</file-store-bucket-name>
	</file-management>
	<elastic-search-config>
		<!-- Type indicates if the Elasticsearch is installed as "server" or "local" or "cloud-aws"
			version is used. For server version host and port should be configured in 
			addition. -->
		<type>server</type>
		<aws>
			<access-key>AKIAICPJOYWQUM7HTXWQ</access-key>
			<secret-key>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</secret-key>
			<region>us-east-1</region>
			<groups>ES2</groups>	
      </aws>
		<es-hosts>
		<es-host>
			<host>10.101.176.236</host>
			<port>9300</port>
		</es-host>
		</es-hosts>
		<cluster-name>prosoloedx</cluster-name>
		<home-path>${user.home}/elasticsearch</home-path>
		<replicas-number>0</replicas-number>
		<shards-number>5</shards-number>
	</elastic-search-config>
	<twitter-stream-config>
		<queue-size>1000</queue-size>
		<reduced-queue-size>700</reduced-queue-size>
		<filter-density-size>100</filter-density-size>
		<fullfiltering-density-thrash-seconds>10</fullfiltering-density-thrash-seconds>
		<fullfiltering-number-check>2</fullfiltering-number-check>
		<blacklist-enter-criteria>10</blacklist-enter-criteria>
		<post-consume-interval-miliseconds>3</post-consume-interval-miliseconds>
	</twitter-stream-config>

	<hibernate>
		<dialect>org.hibernate.dialect.MySQL5InnoDBDialect</dialect>
		<show-sql>false</show-sql>
		<hbm2ddl-auto>validate</hbm2ddl-auto>
		<connection>
			<pool-size>200</pool-size>
			<charSet>UTF-8</charSet>
			<character-encoding>UTF-8</character-encoding>
			<use-unicode>true</use-unicode>
			<autocommit>false</autocommit>
		</connection>
		<max-fetch-depth>0</max-fetch-depth>
		<jdbc-batch-size>50</jdbc-batch-size>
		<cache>
			<use-second-level-cache>true</use-second-level-cache>
			<use-query-cache>true</use-query-cache>
			<use-structured-entries>true</use-structured-entries>
			<region-factory-class>org.hibernate.cache.EhCacheRegionFactory</region-factory-class>
		</cache>
		<c3p0>
			<acquireIncrement>10</acquireIncrement>
			<initialPoolSize>5</initialPoolSize>
			<minPoolSize>5</minPoolSize>
			<maxPoolSize>50</maxPoolSize>
			<maxStatements>50</maxStatements>
			<maxIdleTime>3000</maxIdleTime>
			<automaticTestTable>testTable</automaticTestTable>
		</c3p0>
	</hibernate>
	<admin>
		<user-can-create-competence>true</user-can-create-competence>
		<selected-users-can-do-evaluation>false</selected-users-can-do-evaluation>
		<individual-competences-can-not-be-evaluated>false</individual-competences-can-not-be-evaluated>
	</admin>
	<rabitmq>
		<distributed>true</distributed>
		<master-node>false</master-node>
		<host>10.203.138.211</host>
		 <port>5672</port>
      <virtualHost>/prosolo</virtualHost>
      <username>prosolo</username>
      <password>prosolo@2014</password>
      <exchange>prosolo_exchange2</exchange>
      <queue>prosolo.stat_queue</queue>
      <durableQueue>false</durableQueue>
      <exclusiveQueue>false</exclusiveQueue>
      <autodeleteQueue>false</autodeleteQueue>
      <routingKey>prosolo stats</routingKey>
      <messageExpiration>10000</messageExpiration>
	</rabitmq>
</config>