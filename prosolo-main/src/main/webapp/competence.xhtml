<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:comp="http://java.sun.com/jsf/composite/components"
	template="templates/masterLayout2.xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:dlg="http://java.sun.com/jsf/composite/components/dialogs"
	xmlns:utilcomp="http://java.sun.com/jsf/composite/components/util"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:util="http://www.prosolo.com/util"
	xmlns:courses="http://java.sun.com/jsf/composite/components/courses">

	<ui:define name="windowTitle">
		ProSolo - Competence
	</ui:define>

	<ui:define name="metadata">
		<f:metadata>
			<f:viewParam name="compId" value="#{competenceViewBean.id}" default="null" />
			<f:viewParam name="targetCompId" value="#{competenceViewBean.targetId}" default="null"/>
			<f:viewParam name="mode" value="#{competenceViewBean.mode}" default="null"/>
			<f:viewAction action="#{competenceViewBean.init()}" />
		</f:metadata>
	</ui:define>

    <ui:define name="resourceTitle">
    	<h1>#{competenceViewBean.competenceData.title}</h1>
    </ui:define>
    
	<ui:define name="content">

	<script src="https://use.typekit.net/zvv0dgl.js"></script>
    <script>try{Typekit.load({ async: true });}catch(e){}</script>

	<ui:param name="isPreview" value="#{competenceViewBean.isPreview()}"></ui:param>
	
    <div class="whiteBar">
        <div class="container">
            <div class="whiteBarContent">
                <div class="whiteBarLeft">
                	<ui:fragment rendered="#{competenceViewBean.competenceData.enrolled and !isPreview}">
                		<h:link 
                			value="#{competenceViewBean.competenceData.started ? 'Resume' : 'Start'}"
                			styleClass="btn btn-green btn-sm">
                			
                		</h:link>
                	
	                    <div class="progressBar">
	                        <span>#{competenceViewBean.competenceData.progress}%</span>
	                        <div class="progress">
	                            <div class="progress-bar" role="progressbar" aria-valuenow="#{competenceViewBean.competenceData.enrolled}" aria-valuemin="0" aria-valuemax="100" style="width: #{competenceViewBean.competenceData.enrolled}%;">
	                            </div>
	                        </div>
	                    </div>
                	</ui:fragment>
                    
                </div>
                <div class="whiteBarRight">
                    <div class="duration item">#{competenceViewBean.competenceData.durationString}</div>
                    <h:link 
                    	rendered="#{competenceViewBean.isCurrentUserCreator() and !isPreview}"
                    	value="Edit Competence"
                    	styleClass="btn btn-green-stroke btn-sm item"
                    	outcome="/create-competence">
                    	<f:param name="id" value="#{param['compId']}"></f:param>
                    </h:link>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
    	<ui:fragment rendered="#{competenceViewBean.competenceData.enrolled}">
    		<ol class="breadcrumb">
	            <li><a href="#">Credentials</a></li>
	            <li>
	            	<h:link 
	            		value="#{competenceViewBean.competenceData.credentialTitle}"
	            		outcome="/credential">
	            		<f:param name="id" value="#{competenceViewBean.competenceData.credentialId}"></f:param>
	            	</h:link>
	            </li>
	            <li class="active">#{competenceViewBean.competenceData.title}</li>
	        </ol>
    	</ui:fragment>
        <ui:fragment rendered="#{!competenceViewBean.competenceData.enrolled}">
    		<ol class="breadcrumb">	          
	            <li class="active">#{competenceViewBean.competenceData.title}</li>
	        </ol>
    	</ui:fragment>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-md-8">
                <h2>About Competence</h2>
                <p>#{competenceViewBean.competenceData.description}</p>
                <courses:activityList
                    		activities="#{competenceViewBean.competenceData.activities}"
                    		bean="#{competenceViewBean}"
                    		isEdit="false"
                    		showMarkedIfCompleted="true"
                    		isPreview="#{isPreview}"/>
              
               <div class="discussion">
                    <h2>Discussion</h2>
                    <div class="dropdown sortDrop">
                        <a data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                            Newest first
                            <span class="arrowDown">arrowDown</span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenu1">
                            <li><a href="#">Newest first</a></li>
                            <li><a href="#">Oldest first</a></li>
                        </ul>
                    </div>
                    <div class="addComment">
                        <img src="images/temp-walter.png" class="img-circle" width="32" height="32" alt="Walter White" />
                        <div class="commentForm">
                            <textarea placeholder="Add Comment..."  onkeyup="displaySubmitButton(this)"></textarea>
                            <button type="button" class="btn btn-sm btn-green hidden" name="button">Submit</button>
                        </div>
                    </div>
                    <div class="comments">
                        <ul class="media-list">
                            <li class="media">
                                <div class="media-left">
                                    <img src="images/temp-walter.png" class="img-circle" width="32" height="32" alt="Walter White" />
                                </div>
                                <div class="media-body">
                                    <h3 class="media-heading">Walter White</h3>
                                    <p class="commentText">Cras pellentesque id sapien eu malesuada. Aliquam vestibulum nulla commodo purus faucibus, vel feugiat nulla ultrices. Quisque a nisl sed lacus laoreet dapibus. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos.</p>
                                    <div class="editComment hidden">
                                        <textarea name="name" rows="8" cols="40">Cras pellentesque id sapien eu malesuada. Aliquam vestibulum nulla commodo purus faucibus, vel feugiat nulla ultrices. Quisque a nisl sed lacus laoreet dapibus. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos.</textarea>
                                        <button type="button" class="btn btn-sm btn-green" name="button">Submit</button>
                                        <a href="javascript:void(0)" class="btn btn-sm btn-green-stroke" onclick="hideEditComment(this)">Cancel</a>
                                    </div>
                                    <div class="commentOptions">
                                        <a href="#" class="like">
                                            <svg class="icon" width="12px" height="12px" viewBox="0 0 12 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                                <g id="triangle" stroke="none" stroke-width="1" fill="#D5D8DA" fill-rule="evenodd">
                                                    <polygon id="Triangle-5" points="6 1 12 11 0 11 "></polygon>
                                                </g>
                                            </svg>
                                            Like
                                        </a>
                                        <a href="javascript:void(0)" class="reply" onclick="toggleReplyInput(this)"><span class="icon"></span>Reply</a>
                                        <a href="javascript:void(0)" class="edit" onclick="showEditComment(this)"><span class="icon"></span>Edit</a>
                                    </div>
                                    <div class="media replyInput hidden">
                                        <div class="media-left">
                                            <img src="images/temp-walter.png" class="img-circle" width="32" height="32" alt="Walter White" />
                                        </div>
                                        <div class="media-body replyComment">
                                            <div class="commentForm">
                                                <textarea placeholder="Add Comment..."  onkeyup="displaySubmitButton(this)"></textarea>
                                                <button type="button" class="btn btn-sm btn-green hidden" name="button">Submit</button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="media">
                                        <div class="media-left">
                                            <img src="images/temp-walter.png" class="img-circle" width="32" height="32" alt="Walter White" />
                                        </div>
                                        <div class="media-body">
                                            <h3 class="media-heading">Walter White<span>INSTRUCTOR</span></h3>
                                            <p>Cras pellentesque id sapien eu malesuada. Aliquam vestibulum nulla commodo purus faucibus, vel feugiat nulla ultrices. Quisque a nisl sed lacus laoreet dapibus. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos.</p>
                                            <div class="commentOptions">
                                                <a href="#" class="like liked">
                                                    <svg class="icon" width="12px" height="12px" viewBox="0 0 12 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                                        <g id="triangle" stroke="none" stroke-width="1" fill="#D5D8DA" fill-rule="evenodd">
                                                            <polygon id="Triangle-5" points="6 1 12 11 0 11 "></polygon>
                                                        </g>
                                                    </svg>
                                                    3
                                                </a>
                                                <a href="javascript:void(0)" class="reply" onclick="toggleReplyInput(this)"><span class="icon"></span>Reply</a>
                                            </div>
                                            <div class="media replyInput hidden">
                                                <div class="media-left">
                                                    <img src="images/temp-walter.png" class="img-circle" width="32" height="32" alt="Walter White" />
                                                </div>
                                                <div class="media-body replyComment">
                                                    <div class="commentForm">
                                                        <textarea placeholder="Add Comment..."  onkeyup="displaySubmitButton(this)"></textarea>
                                                        <button type="button" class="btn btn-sm btn-green hidden" name="button">Submit</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li class="media">
                                <div class="media-left">
                                    <img src="images/temp-walter.png" class="img-circle" width="32" height="32" alt="Walter White" />
                                </div>
                                <div class="media-body">
                                    <h3 class="media-heading">Walter White</h3>
                                    <p>Cras pellentesque id sapien eu malesuada. Aliquam vestibulum nulla commodo purus faucibus, vel feugiat nulla ultrices. Quisque a nisl sed lacus laoreet dapibus. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos.</p>
                                    <div class="commentOptions">
                                        <a href="#" class="like">
                                            <svg class="icon" width="12px" height="12px" viewBox="0 0 12 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                                <g id="triangle" stroke="none" stroke-width="1" fill="#D5D8DA" fill-rule="evenodd">
                                                    <polygon id="Triangle-5" points="6 1 12 11 0 11 "></polygon>
                                                </g>
                                            </svg>
                                            Like
                                        </a>
                                        <a href="javascript:void(0)" class="reply" onclick="toggleReplyInput(this)"><span class="icon"></span>Reply</a>
                                    </div>
                                    <div class="media replyInput hidden">
                                        <div class="media-left">
                                            <img src="images/temp-walter.png" class="img-circle" width="32" height="32" alt="Walter White" />
                                        </div>
                                        <div class="media-body replyComment">
                                            <div class="commentForm">
                                                <textarea placeholder="Add Comment..."  onkeyup="displaySubmitButton(this)"></textarea>
                                                <button type="button" class="btn btn-sm btn-green hidden" name="button">Submit</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        </ul>
                        <a href="#" class="btn btn-sm btn-green-stroke btnFullWidth">Load more...</a>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <h2>Keywords</h2>
                <ul class="tags">
                	<ui:repeat var="tag" value="#{competenceViewBean.competenceData.tags}">
                		<li><a href="#">#{tag.title}</a></li>
                	</ui:repeat>               
                </ul>
                <h2>Created by</h2>
                <div class="user32">
                    <a href="#">
                    	<h:graphicImage value="#{competenceViewBean.competenceData.creator.avatar}"
										   alt="#{competenceViewBean.competenceData.creator.name}" 
										   styleClass="img-circle"
										   width="32" height="32"/> 
                    </a>
                    <h3><a href="#">#{competenceViewBean.competenceData.creator.name}</a></h3>
                </div>
            </div>
        </div>

    </div>

</ui:define>
</ui:composition>
