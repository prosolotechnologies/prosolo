<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:comp="http://java.sun.com/jsf/composite/components"
	template="templates/masterLayout2.xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:dlg="http://java.sun.com/jsf/composite/components/dialogs"
	xmlns:utilcomp="http://java.sun.com/jsf/composite/components/util"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:util="http://www.prosolo.com/util"
	xmlns:courses="http://java.sun.com/jsf/composite/components/courses"
	xmlns:mngComp="http://java.sun.com/jsf/composite/components/manage"
	xmlns:dlgComp="http://java.sun.com/jsf/composite/components/dialogs/manager"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:o="http://omnifaces.org/ui"
	xmlns:assessments="http://java.sun.com/jsf/composite/components/assessments">

	<ui:define name="windowTitle">
		#{announcementStudentBean.credentialTitle} - Announcement
	</ui:define>

	<ui:define name="metadata">
		<f:metadata>
			<f:viewParam name="id" value="#{announcementStudentBean.credentialId}" default="null" />
			<f:viewParam name="announcementId" value="#{announcementStudentBean.announcementId}" default="null" />
			<f:viewAction action="#{announcementStudentBean.markAnnouncementRead()}" />
		</f:metadata>
	</ui:define>

    <ui:define name="resourceTitle">
		<h1>#{announcementStudentBean.credentialTitle}</h1>
	</ui:define>
	<ui:define name="content">
			<div class="whiteBar">
	        <div class="container">
	            <div class="whiteBarContent">
	                <div class="whiteBarLeft">
	                    <h:panelGroup rendered="#{announcementStudentBean.credentialData.progress == 100}" layout="block" styleClass="tagCompleted item">Completed</h:panelGroup>
	                </div>
	                <div class="whiteBarRight">
	                    <h:panelGroup rendered="#{announcementStudentBean.credentialMandatoryFlow}" styleClass="mandatoryTag item">Mandatory flow</h:panelGroup>
	                    <div class="duration item">#{announcementStudentBean.credentialDurationString}</div>
	                </div>
	            </div>
	        </div>
	    </div>
	
	    <div class="container">
	        <ol class="breadcrumb">
	            <li><h:link outcome="library">Credentials</h:link></li>
	            <li> 
	            	<h:link outcome="credential">#{announcementStudentBean.credentialTitle}
			                <f:param name="id" value="#{param['id']}"></f:param>
			        </h:link>
			    </li>
	            <li class="active">#{announcementStudentBean.announcementData.title}</li>
	        </ol>
	    </div>
	    
	    <div class="container">
	        <div class="row">
	            <div class="col-md-8">
	                <article class="whiteBox announcementBox">
	                    <h2>#{announcementStudentBean.announcementData.title}</h2>
	                    <p>
	                    	<h:outputText escape="false" value="#{announcementStudentBean.announcementData.text}" />
	                    </p>
	                    <p>
	                        <h:link outcome="credential">Go Back to Credential
			                	<f:param name="id" value="#{param['id']}"></f:param>
			        		</h:link>
	                    </p>
	                </article>
	            </div>
	            <div class="col-md-4">
							<div class="sidebarBlock">
								<h2>Posted on #{announcementStudentBean.announcementData.formattedCreationDate}, by</h2>
								<div class="user32">
									<a href="#">
										<utilcomp:userAvatar
												avatar="#{announcementStudentBean.announcementData.creatorAvatarUrl}"
												fullName="#{announcementStudentBean.announcementData.creatorFullName}" />
									</a>
									<h3>
										<a href="#">#{announcementStudentBean.announcementData.creatorFullName}</a>
									</h3>
								</div>
							</div>
						</div>
	        </div>
	    </div>
	</ui:define>
</ui:composition>