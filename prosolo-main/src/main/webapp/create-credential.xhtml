<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:comp="http://java.sun.com/jsf/composite/components"
	template="templates/masterLayout2.xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:dlg="http://java.sun.com/jsf/composite/components/dialogs"
	xmlns:utilcomp="http://java.sun.com/jsf/composite/components/util"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:util="http://www.prosolo.com/util"
	xmlns:courses="http://java.sun.com/jsf/composite/components/courses">

	<ui:define name="windowTitle">
		ProSolo - New Credential
	</ui:define>

	<ui:define name="metadata">
		<f:metadata>
			<f:viewParam name="id" value="#{credentialEditBean.id}"></f:viewParam>
			<f:viewAction action="#{credentialEditBean.init()}" />
		</f:metadata>
	</ui:define>
	
	<ui:define name="resourceTitle">
    	<h1>#{credentialEditBean.pageHeaderTitle}</h1>
    </ui:define>

	<ui:define name="content">
		<link rel="stylesheet" type="text/css" media="all" href="#{request.contextPath}/resources/css2/bootstrap-tagsinput.css" />
		<script src="https://use.typekit.net/zvv0dgl.js"></script>
    	<script>try{Typekit.load({ async: true });}catch(e){}</script>

    <div class="whiteBar">

    </div>
	<h:form id="formMain">
	<p:growl id="growlMain" showDetail="true" globalOnly="true"></p:growl>
    <div class="container">
        <div class="row">
        	<h:inputHidden id="hiddenType" value="#{credentialEditBean.credentialData.typeString}"></h:inputHidden>
            <div class="col-md-8">
                <div class="whiteBox">
                	<ul class="nav nav-tabs pageSubmenu" role="tablist">
                        <li role="presentation" class="active"><a href="#info" aria-controls="info" role="tab" data-toggle="tab">Credential Info</a></li>
                        <li role="presentation"><a href="#competences" aria-controls="competences" role="tab" data-toggle="tab">Competences</a></li>
                    </ul>
                </div>
                <div class="tab-content">
                  <div role="tabpanel" class="tab-pane fade in active" id="info">
	                 <div class="whiteBox">
	                    <h2>Credential Info</h2>
	                    <div class="formWrapper">
	                        <div class="formLine">
	                            <label>Title</label>
	                            <div class="formLineRight">
	                                <h:inputText value="#{credentialEditBean.credentialData.title}"></h:inputText>
	                            </div>
	                        </div>
	                        <div class="formLine">
	                            <label>About credential</label>
	                            <div class="formLineRight">                           
	                                <h:inputTextarea value="#{credentialEditBean.credentialData.description}"></h:inputTextarea>
	                            </div>
	                        </div>
	                        <div class="formLine">
	                            <label>Keywords</label>
	                            <div class="formLineRight">
	                                <h:inputText styleClass="tagsInputCredTag"
	                                	value="#{credentialEditBean.credentialData.tagsString}"
	                                	pt:placeholder="Type and press 'Enter'"
	                                	pt:data-role="tagsinput">
	                                </h:inputText>
	                            </div>
	                        </div>
	                        <script>$('.tagsInputCredTag').tagsinput();</script>
	                        <div class="formLine">
	                            <label>Twitter hashtags</label>
	                            <div class="formLineRight">
	                                <h:inputText styleClass="tagsInputCredHahstag"
	                                	value="#{credentialEditBean.credentialData.hashtagsString}"
	                                	pt:placeholder="Type and press 'Enter'"
	                                	pt:data-role="tagsinput">
	                                </h:inputText>
	                            </div>
	                        </div>
	                        <script>$('.tagsInputCredHahstag').tagsinput();</script>
	                    </div>
	                </div>
	            </div>
	            <div role="tabpanel" class="tab-pane fade mandatoryFlow" id="competences">
	            		<courses:compList 
	            			id="compList"
		                	bean="#{credentialEditBean}"
		                	competences="#{credentialEditBean.credentialData.competences}"
		                	isEdit="true"
		                	startedLearning="false"/>
                        <ui:remove><article class="whiteBox summaryCard summaryCompetence">
                            <div class="innerWrapper">
                                <h2>Define social network analysis</h2>
                                <div class="editOptions">
                                    <a href="#" class="moveUp" disabled="disabled">up</a>
                                    <a href="#" class="moveDown">down</a>
                                </div>
                                <div class="clear"></div>
                                <p>Cras pellentesque id sapien eu malesuada. Aliquam vestibulum nulla commodo purus faucibus, vel feugiat nulla ultrices. Quisque a nisl sed lacus laoreet dapibus. Class aptent taciti sociosqu…</p>
                                <div class="metaBox">
                                    <div class="metaLeft">
                                        <a href="#" class="btn btn-green-stroke btn-sm">Edit</a>
                                    </div>
                                    <div class="metaRight">
                                        <div class="duration">35 minutes</div>
                                    </div>
                                </div>
                            </div>
                            <div class="collapseActivityList">
                                <div id="comp1" class="collapse">
                                    <ul>
                                        <li class="noLink activityVideo">
                                            <span class="iconType"></span>
                                            Aliquam vestibulum nulla commodo
                                        </li>
                                        <li class="noLink activityText">
                                            <span class="iconType"></span>
                                            Class aptent taciti sociosqu ad litora torquent
                                        </li>
                                        <li class="noLink activitySlide">
                                            <span class="iconType"></span>
                                            Quisque a nisl sed lacus laoreet dapibus
                                        </li>
                                        <li class="noLink activityExternal">
                                            <span class="iconType"></span>
                                            Cras pellentesque id sapien eu malesuada
                                        </li>
                                    </ul>
                                </div>
                                <a href="#comp1" data-toggle="collapse" class="collapseButton collapsed">
                                    <span class="textShow">Show Activities</span>
                                    <span class="arrowDown">down</span>
                                    <span class="textHide">Hide Activities</span>
                                    <span class="arrowUp">up</span>
                                </a>
                            </div>
                        </article>
                        <div class="mandatoryArrow"></div>
                        <article class="whiteBox summaryCard summaryCompetence">
                            <div class="innerWrapper">
                                <h2>Define social network analysis</h2>
                                <div class="editOptions">
                                    <a href="#" class="moveUp" disabled="disabled">up</a>
                                    <a href="#" class="moveDown">down</a>
                                </div>
                                <div class="clear"></div>
                                <p>Cras pellentesque id sapien eu malesuada. Aliquam vestibulum nulla commodo purus faucibus, vel feugiat nulla ultrices. Quisque a nisl sed lacus laoreet dapibus. Class aptent taciti sociosqu…</p>
                                <div class="metaBox">
                                    <div class="metaLeft">
                                        <a href="#" class="btn btn-green-stroke btn-sm">Edit</a>
                                    </div>
                                    <div class="metaRight">
                                        <div class="duration">35 minutes</div>
                                    </div>
                                </div>
                            </div>
                            <div class="collapseActivityList">
                                <div id="comp2" class="collapse">
                                    <ul>
                                        <li class="noLink activityVideo">
                                            <span class="iconType"></span>
                                            Aliquam vestibulum nulla commodo
                                        </li>
                                        <li class="noLink activityText">
                                            <span class="iconType"></span>
                                            Class aptent taciti sociosqu ad litora torquent
                                        </li>
                                        <li class="noLink activitySlide">
                                            <span class="iconType"></span>
                                            Quisque a nisl sed lacus laoreet dapibus
                                        </li>
                                        <li class="noLink activityExternal">
                                            <span class="iconType"></span>
                                            Cras pellentesque id sapien eu malesuada
                                        </li>
                                    </ul>
                                </div>
                                <a href="#comp2" data-toggle="collapse" class="collapseButton collapsed">
                                    <span class="textShow">Show Activities</span>
                                    <span class="arrowDown">down</span>
                                    <span class="textHide">Hide Activities</span>
                                    <span class="arrowUp">up</span>
                                </a>
                            </div>
                        </article>
                        <div class="mandatoryArrow"></div>
                        <article class="whiteBox summaryCard summaryCompetence">
                            <div class="innerWrapper">
                                <h2>Define social network analysis <span>(Draft)</span></h2>
                                <div class="editOptions">
                                    <a href="#" class="moveUp">up</a>
                                    <a href="#" class="moveDown" disabled="disabled">down</a>
                                </div>
                                <div class="clear"></div>
                                <p>Cras pellentesque id sapien eu malesuada. Aliquam vestibulum nulla commodo purus faucibus, vel feugiat nulla ultrices. Quisque a nisl sed lacus laoreet dapibus. Class aptent taciti sociosqu…</p>
                                <div class="metaBox">
                                    <div class="metaLeft">
                                        <a href="#" class="btn btn-green-stroke btn-sm">Edit</a>
                                    </div>
                                    <div class="metaRight">
                                        <div class="duration">35 minutes</div>
                                    </div>
                                </div>
                            </div>
                            <div class="collapseActivityList">
                                <div id="comp3" class="collapse">
                                    <ul>
                                        <li class="noLink activityVideo">
                                            <span class="iconType"></span>
                                            Aliquam vestibulum nulla commodo
                                        </li>
                                        <li class="noLink activityText">
                                            <span class="iconType"></span>
                                            Class aptent taciti sociosqu ad litora torquent
                                        </li>
                                        <li class="noLink activitySlide">
                                            <span class="iconType"></span>
                                            Quisque a nisl sed lacus laoreet dapibus
                                        </li>
                                        <li class="noLink activityExternal">
                                            <span class="iconType"></span>
                                            Cras pellentesque id sapien eu malesuada
                                        </li>
                                    </ul>
                                </div>
                                <a href="#comp3" data-toggle="collapse" class="collapseButton collapsed">
                                    <span class="textShow">Show Activities</span>
                                    <span class="arrowDown">down</span>
                                    <span class="textHide">Hide Activities</span>
                                    <span class="arrowUp">up</span>
                                </a>
                            </div>
                        </article>
                        </ui:remove>
                        <div class="mandatoryArrow"></div>
                        <div class="newCompetenceBox">
                            <div class="elementsWrapper">
                                <a href="#" class="btn btn-green">Create New Competence</a>
                                <span>or</span>
                                <div class="elementsRight">
                                    <input type="text" placeholder="Add existing one"></input>
                                    <a href="#">Recommended Competences</a>
                                </div>
                            </div>
                        </div>
                    </div>
                 </div>
               </div>
            <div class="col-md-4">
            	<courses:rightSideBar
            		mandatoryFlow="#{credentialEditBean.credentialData.mandatoryFlow}"
            		publishValues="#{credentialEditBean.courseStatusArray}" 
            		publishValue="#{credentialEditBean.credentialData.status}"
            		saveAction="#{credentialEditBean.saveCredential}"
            		deleteAction="#{credentialEditBean.deleteCredential}"
            		toUpdate=":formMain" 
            		previewAction="#{credentialEditBean.previewCredential}"/>
                <ui:remove><div class="whiteBox publishBox">
                    <h2>Publish</h2>
                    <a href="#" class="linkPreview">Preview</a>             
                    	
                    <div class="clear"></div>
                    <div class="checkbox checkLine">
                        <input type="checkbox" id="checkMandatory"></input>
                        <label for="checkMandatory">Mandatory flow</label>
                    </div>
                    <select class="selectpicker">
                        <option>Draft</option>
                        <option>Published</option>
                    </select>
                    <div class="publishRow">
                        <a href="#" class="btn btn-green">Save Changes</a>
                        <a href="#" class="linkRed">Delete</a>
                    </div>
                </div></ui:remove>
            </div>
            <script>         		
				document.getElementById('formMain:hiddenType').value = "user_created";
            </script>
        </div>
		
    </div>
    </h:form>
    <script src="#{request.contextPath}/resources/javascript2/bootstrap-tagsinput.min.js"></script>
</ui:define>
</ui:composition>
