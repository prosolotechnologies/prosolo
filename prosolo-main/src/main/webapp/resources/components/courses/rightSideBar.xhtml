<ui:component
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:composite="http://java.sun.com/jsf/composite"
	xmlns:comp="http://java.sun.com/jsf/composite/components"
	xmlns:utilcomp="http://java.sun.com/jsf/composite/components/util"
	xmlns:link="http://java.sun.com/jsf/composite/components/resourceLinks"
	xmlns:post="http://java.sun.com/jsf/composite/components/post"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

	<composite:interface>
		<composite:attribute name="mandatoryFlow" required="true" />
		<composite:attribute name="publishValues" required="true" />
		<composite:attribute name="publishValue" required="true" />
		<composite:attribute name="saveAction" required="true" method-signature="void saveCredential()"/>
		<composite:attribute name="deleteAction" required="true" method-signature="void deleteCredential()"/>
		<composite:attribute name="toUpdate" required="true" />
		<composite:attribute name="previewAction" required="true" method-signature="void previewCredential()"/>
	</composite:interface>
	
	<composite:implementation>
	      <div class="whiteBox publishBox">
              <h2>Publish</h2>
              <p:commandLink
                    	value="Preview"
                    	styleClass="linkPreview"
                    	action="#{cc.attrs.previewAction}"/>
              <div class="clear"></div>
              <div class="checkbox checkMandatory">
              	  <h:selectBooleanCheckbox 
              	  	id="checkMandatory"
              	  	value="#{cc.attrs.mandatoryFlow}">
              	  	<f:ajax listener="#{credentialEditBean.listener}"/>
              	  </h:selectBooleanCheckbox>
              	   <ui:remove><input type="checkbox" id="checkMandatory"></input></ui:remove>
                  <label for="checkMandatory">Mandatory flow</label>
              </div>
              <h:selectOneMenu styleClass="selectpicker" value="#{cc.attrs.publishValue}">
              		<f:selectItems value="#{cc.attrs.publishValues}" var="status"
  						itemValue="#{status}" itemLabel="#{status.label}" />
  			  </h:selectOneMenu>
              <div class="publishRow">
              	  <p:commandLink 
              	  	styleClass="btn btn-green" 
              	  	action="#{cc.attrs.saveAction}"
              	  	update="#{cc.attrs.toUpdate}">
              	  		Save changes
              	  </p:commandLink>
              	  <p:commandLink 
              	  	styleClass="linkRed" 
              	  	action="#{cc.attrs.deleteAction}"
              	  	update="#{cc.attrs.toUpdate}">
              	  		Delete
              	  </p:commandLink>
              </div>
          </div>
	</composite:implementation>
</ui:component>