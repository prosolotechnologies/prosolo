<ui:component xmlns:h="http://java.sun.com/jsf/html"
              xmlns:f="http://java.sun.com/jsf/core"
              xmlns:ui="http://java.sun.com/jsf/facelets"
              xmlns:composite="http://java.sun.com/jsf/composite"
              xmlns:p="http://primefaces.org/ui">

    <composite:implementation>
        <script>
            function resetForm() {
                $('#newUnitModal\\:formNewUnitModal\\:inputTextOrganizationUnitName').val("");
            }
        </script>
        <div class="modal fade newFeedModal" id="newUnitModal" tabindex="-1" role="dialog" aria-labelledby="newFeedSourceModal">
            <h:form id="formNewUnitModal">
                <p:growl id="growlUnitModal" showDetail="true" globalOnly="true"></p:growl>
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header alignLeft">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&#215;</span></button>
                                <h2 class="modal-title">Add New Unit</h2>
                            </div>
                        <div class="modal-body alignLeft">
                            <h:inputText id="inputTextOrganizationUnitName"
                                         value="#{unitEditBean.unit.title}"
                                         required="true"
                                         requiredMessage="Unit name is required"
                                         placeholder="Unit Name"/>

                            <h:panelGroup
                                    rendered="#{not empty facesContext.getMessageList('newUnitModal:formNewUnitModal:inputTextOrganizationUnitName')}">
                                <small class="redText"><h:message for="inputTextOrganizationUnitName"></h:message></small>
                            </h:panelGroup>
                        </div>
                        <div class="modal-footer alignLeft">
                            <p:commandLink  styleClass="btn btn-green" value="Add"
                                            action="#{unitEditBean.saveUnit()}"
                                            update="@form"
                                            oncomplete="
                                            if (args &amp;&amp; !args.validationFailed)
                                                $('#newUnitModal').modal('hide');">
                                <f:param name="page" value="#{facesContext.viewRoot.viewId}" />
                                <f:param name="learningContext" value="name:new_unit" />
                            </p:commandLink>
                            <p:commandLink  styleClass="btn btn-default" value="Cancel"
                                onclick="resetForm(); $('#newUnitModal').modal('hide');"
                            >
                            </p:commandLink>
                        </div>
                    </div>
                </div>
            </h:form>
        </div>
    </composite:implementation>


</ui:component>