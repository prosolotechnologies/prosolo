<ui:component xmlns:h="http://java.sun.com/jsf/html"
			  xmlns:ui="http://java.sun.com/jsf/facelets"
			  xmlns:composite="http://java.sun.com/jsf/composite"
			  xmlns:ls="http://java.sun.com/jsf/composite/components/learningResource">

	<composite:interface>
		<composite:attribute name="update" default="" />
		<composite:attribute name="learningContext" default="" />
	</composite:interface>

	<composite:implementation>
		<div class="col-md-12">
			<div class="whiteBox manageVisibility">
				<div class="innerWrapper">
					<h2>Who can learn</h2>
					<p>Select which students/student groups can enroll the #{msg['label.credential'].toLowerCase()} #{msg['label.delivery'].toLowerCase()}:</p>
				</div>
				<h:form id="formMain">
					<div class="checkbox checkLine checkAll">
						<h:selectBooleanCheckbox id="checkVisibleAll"
												 value="#{credentialUserPrivilegeBean.visibleToEveryone}">
						</h:selectBooleanCheckbox>
						<h:outputLabel for="checkVisibleAll">Enrollment open to all units having access to the #{msg['label.credential'].toLowerCase()}</h:outputLabel>
					</div>

					<ls:userPrivileges
							bean="#{credentialUserPrivilegeBean}"
							process=":#{cc.clientId}:formMain:checkVisibleAll"
							toUpdate="#{cc.attrs.update}"
							learningContext="#{cc.attrs.learningContext}"
					/>
				</h:form>
			</div>
		</div>
	</composite:implementation>
</ui:component>