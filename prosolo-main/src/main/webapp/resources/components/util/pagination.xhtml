<ui:component
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:composite="http://java.sun.com/jsf/composite"
	xmlns:link="http://java.sun.com/jsf/composite/components/resourceLinks"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:post="http://java.sun.com/jsf/composite/components/post">

	<composite:interface>
		<composite:attribute name="bean" required="true"/>
		<composite:attribute name="links" required="true" type="java.util.List" />
		<composite:attribute name="toUpdate" default="" />
	</composite:interface>
	
	<composite:implementation>
		<div id="#{cc.clientId}">
		<nav class="paginationWrapper">
            <ul class="pagination">
            	<ui:fragment rendered="#{!cc.attrs.bean.isResultSetEmpty() and cc.attrs.bean.isCurrentPageFirst()}">
					<li class="disabled">
						<a href="javascript:void(0);" aria-label="Previous">
							<span aria-hidden="true">Prev</span>
						</a>
					</li>
				</ui:fragment>
				<ui:fragment rendered="#{!cc.attrs.bean.isCurrentPageFirst()}">
					<li>
						<p:commandLink 
							process="@this"
						    action="#{cc.attrs.bean.goToPreviousPage()}"
						    update="#{cc.attrs.toUpdate} :#{cc.clientId}"
							pt:aria-label="Previous">
							<span aria-hidden="true">Prev</span>
						</p:commandLink>
					</li>
				</ui:fragment>
				<ui:repeat var="link" value="#{cc.attrs.links}">
					<ui:fragment rendered="#{link.isLink()}">
						<li class="#{link.selected ? 'active' : ''}">
							<p:commandLink
						     	process="@this"
						    	action="#{cc.attrs.bean.changePage(link.page)}"
						    	update="#{cc.attrs.toUpdate} :#{cc.clientId}">
						    	#{link.linkOutput}
						    </p:commandLink>
					    </li>   
					</ui:fragment>	
					
					<ui:fragment rendered="#{!link.isLink()}">
						<li>#{link.linkOutput}</li>
					</ui:fragment>		
				</ui:repeat>
				<ui:fragment rendered="#{!cc.attrs.bean.isResultSetEmpty() and cc.attrs.bean.isCurrentPageLast()}">
					<li class="disabled">
						<a href="javascript:void(0);" aria-label="Next"><span aria-hidden="true">Next</span></a>
					</li>
				</ui:fragment>
				<ui:fragment rendered="#{!cc.attrs.bean.isCurrentPageLast()}">
					<li>
						<p:commandLink 
							process="@this"
						    actionListener="#{courseInstructorsBean.setPage(courseInstructorsBean.page + 1)}"
						    action="#{cc.attrs.bean.goToNextPage()}"
						    update="#{cc.attrs.toUpdate} :#{cc.clientId}"
							pt:aria-label="Next">
							<span aria-hidden="true">Next</span>
						</p:commandLink>
					</li>
				</ui:fragment>
            </ul>
        </nav>
        </div>
	</composite:implementation>
</ui:component>