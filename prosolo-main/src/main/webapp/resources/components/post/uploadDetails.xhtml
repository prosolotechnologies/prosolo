<ui:component
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:composite="http://java.sun.com/jsf/composite"
	xmlns:post="http://java.sun.com/jsf/composite/components/post"
	xmlns:util="http://www.prosolo.com/util">

	<composite:interface>
		<composite:attribute name="attachmentPreview" required="true"/>
		<composite:attribute name="containerDiv" required="true"/>
		<composite:attribute name="onclickHideLink" />
	</composite:interface>
	
	<composite:implementation>
	
		<h:outputScript library="javascript" name="jquery.autosize.min.js" target="head" />
	
		<h:panelGroup layout="block" class="uploadDetails" id="uploadDetails">
			<h:panelGroup layout="block" class="errorMsg" rendered="#{cc.attrs.attachmentPreview.invalidLink}">
				Could not load document!
			</h:panelGroup>
			
			<h:panelGroup layout="block" class="attachContent" id="attachContent">
				<h:panelGroup layout="block" class="actInfo actInfoBig">
					<h:inputText id="actTitle" class="atcTitle" value="#{cc.attrs.attachmentPreview.uploadTitle}" placeholder="Document title" /> 
						
					<div class="clear"></div> 
					
					<h:inputTextarea id="actDesc" class="atcDesc" value="#{cc.attrs.attachmentPreview.uploadDescription}" placeholder="Document description" />
						
					<script>
						$(function() {
							$('#{cc.attrs.containerDiv} .addNoteBox .uploadDetails .atcDesc').autosize();
						});
					</script>
				</h:panelGroup>
				
				<p:commandLink styleClass="hideUploadDetails" 
					value="x"
					onclick="#{cc.attrs.onclickHideLink}"
					action="#{postaction.resetData(cc.attrs.attachmentPreview)}"
				/>
			</h:panelGroup>
			
			<div class="noteSeparator clear"></div>
		</h:panelGroup>
	
	</composite:implementation>
</ui:component>