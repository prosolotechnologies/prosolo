<ui:component xmlns="http://www.w3.org/1999/xhtml"
              xmlns:h="http://java.sun.com/jsf/html"
              xmlns:f="http://java.sun.com/jsf/core"
              xmlns:ui="http://java.sun.com/jsf/facelets"
              xmlns:p="http://primefaces.org/ui"
              xmlns:composite="http://java.sun.com/jsf/composite"
              template="templates/masterLayout2.xhtml"
              xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

    <composite:interface>
        <composite:attribute name="onSubmit" required="true" />
        <composite:attribute name="passwordValue" required="true" />
    </composite:interface>

    <composite:implementation>
        <div class="whiteBar"></div>

        <div class="container" id="editUserPassword">
            <div class="row">
                <div class="col-md-12">
                    <div class="whiteBox settingsChangePassword">
                        <h2>Change Password</h2>
                        <h:form id="formMain">
                            <p:growl id="growlMain" showDetail="true" globalOnly="true"></p:growl>
                            <div class="formWrapper">
                                <div class="formLine">
                                    <label>New password</label>
                                    <div class="formLineRight">
                                        <p:password id="inputPassword"
                                                    value="#{cc.attrs.passwordValue}"
                                                    required="true"
                                                    requiredMessage="Password field cannot be empty"
                                                    validatorMessage="Password is too short. It has to contain more that 5 characters.">
                                            <f:validateLength minimum="6"></f:validateLength>
                                        </p:password>
                                        <h:panelGroup layout="block"
                                                      rendered="#{not empty facesContext.getMessageList('formMain:inputPassword')}"
                                                      styleClass="alert alert-danger" pt:role="alert">
                                            <h:message for="inputPassword"></h:message>
                                        </h:panelGroup>
                                    </div>
                                </div>
                                <div class="formLine">
                                    <label>&#160;</label>
                                    <div class="formLineRight">
                                        <p:commandLink styleClass="btn btn-green"
                                                       action="#{cc.attrs.onSubmit}"
                                                       update=":editUserPassword:formMain">
                                            Save
                                        </p:commandLink>
                                    </div>
                                </div>
                            </div>
                        </h:form>
                    </div>
                </div>
            </div>
        </div>
    </composite:implementation>
</ui:component>
