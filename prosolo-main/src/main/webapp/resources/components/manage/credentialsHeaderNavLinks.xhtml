<ui:component
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:composite="http://java.sun.com/jsf/composite"
	xmlns:comp="http://java.sun.com/jsf/composite/components"
	xmlns:utilcomp="http://java.sun.com/jsf/composite/components/util"
	xmlns:link="http://java.sun.com/jsf/composite/components/resourceLinks"
	xmlns:post="http://java.sun.com/jsf/composite/components/post"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

	<composite:interface>
		<composite:attribute name="credEncodedId" required="true" />
		<composite:attribute name="credType" required="true" type="org.prosolo.common.domainmodel.credential.LearningResourceType" />
	</composite:interface>
	
	<composite:implementation>
	
	 <div id="#{cc.clientId}">
		 <ui:param name="page" value="#{util:getPagePath(view.viewId)}"></ui:param>
		 <ul class="nav nav-tabs headerSubmenu">
		 	<ui:fragment rendered="#{empty cc.attrs.credEncodedId}">
		 		<li role="presentation" class="active">
		 			<a href="javascript:void(0);" data-toggle="tooltip"
	    			   title="Credential must be saved first">Credential Details
	    			</a>
	    		</li>
	    		<ui:fragment rendered="#{cc.attrs.credType == 'UNIVERSITY_CREATED'}">
		            <li role="presentation">
		            	<a href="javascript:void(0);" data-toggle="tooltip"
		    			   title="Credential must be saved first">Students
		    			</a>
		            </li>
		            <li role="presentation">
		            	<a href="javascript:void(0);" data-toggle="tooltip"
		    			   title="Credential must be saved first">Instructors
		    			</a>
		            </li>
		            <li role="presentation">
		            	<a href="javascript:void(0);" data-toggle="tooltip"
		    			   title="Credential must be saved first">RSS Feeds
		    			</a>
		            </li>
		        </ui:fragment>
		 	</ui:fragment>
		 	<ui:fragment rendered="#{not empty cc.attrs.credEncodedId}">
			 	<li 
		        	role="presentation" 
		        	class="#{page  == 'create-credential' 
		        		|| page  == 'credential' ? 'active' : ''}">
		        	<h:link
		        		value="Credential Details"
		        		outcome="credential">
		        		<f:param name="id" value="#{cc.attrs.credEncodedId}"></f:param>
		        	</h:link>
		        </li>
		        <ui:fragment rendered="#{cc.attrs.credType == 'UNIVERSITY_CREATED'}">
			 		<li 
			        	role="presentation"
			        	class="#{util:getPagePath(view.viewId)  == 'credential-students' ? 'active' : ''}">
			        	<h:link
			        		value="Students"
			        		outcome="credential-students">
			        		<f:param name="id" value="#{cc.attrs.credEncodedId}"></f:param>
			        	</h:link>
			        </li>
			        <ui:fragment rendered="#{request.isUserInRole('COURSE.INSTRUCTORS.VIEW')}">
				        <li 
				        	role="presentation"
				        	class="#{util:getPagePath(view.viewId)  == 'credential-instructors' ? 'active' : ''}">
				        	<h:link
				        		value="Instructors"
				        		outcome="credential-instructors">
				        		<f:param name="id" value="#{cc.attrs.credEncodedId}"></f:param>
				        	</h:link>
				        </li>
				    </ui:fragment>
				    <ui:fragment rendered="#{request.isUserInRole('MANAGE.CREDENTIAL.RSSFEEDS')}">
				        <li 
				        	role="presentation"
				        	class="#{util:getPagePath(view.viewId)  == 'credential-rss' ? 'active' : ''}">
				        	<h:link
				        		value="RSS Feeds"
				        		outcome="credential">
				        		<f:param name="id" value="#{cc.attrs.credEncodedId}"></f:param>
				        	</h:link>
				        </li>
				    </ui:fragment>
			    </ui:fragment>
		 	</ui:fragment>
	     </ul>
     </div>
	</composite:implementation>
</ui:component>