<ui:component
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:func="http://org.prosolo/functions"
	xmlns:composite="http://java.sun.com/jsf/composite"
	xmlns:comp="http://java.sun.com/jsf/composite/components"
	xmlns:utilcomp="http://java.sun.com/jsf/composite/components/util"
	xmlns:dlg="http://java.sun.com/jsf/composite/components/dialogs">

	<composite:interface>
		<composite:attribute name="title" type="java.lang.String" required="true"/>
		<composite:attribute name="message" type="java.lang.String" required="true"/>
		<composite:attribute name="resource" />
		<composite:attribute name="regionToUpdate"/>
		<composite:attribute name="oncomplete" type="java.lang.String"/>
		<composite:attribute name="deleteAction"
			method-signature="void delete(org.prosolo.common.domainmodel.general.Node)"
			required="false"/>
	</composite:interface>
	
	<composite:implementation>
		
	    <div id="#{cc.attrs.value}FormModalDialog" class="deleteCompFormModalDialog" style="display: none;">
	    	<!-- 
	    	 <h:form id="deleteResourceForm" prependId="false">
	    	 -->
	    	<h:messages />
				<p:growl id="#{cc.attrs.value}Growl" showDetail="true" />
				
				<h4 class="warningMessage">#{cc.attrs.message}</h4>
				<br/><br/>
		
				<h:commandLink value="Delete"
					class="button red size30 right"
					onclick='$("##{cc.attrs.value}FormModalDialog").dialog("close");'
				 	action="#{cc.attrs.deleteAction}"
					>
					<f:ajax onevent="#{cc.attrs.oncomplete}" render="#{cc.attrs.regionToUpdate}" />
				</h:commandLink>
		
				&#160;
				<a class="button gray size30 right"
					onclick='$("##{cc.attrs.value}FormModalDialog").dialog("close");'>Cancel</a>
	    	<!-- 
	    	</h:form>
	    	 -->
		</div>
		<script>
		$(function() {
			$('##{cc.attrs.value}FormModalDialog').dialog({
				title: '#{cc.attrs.title}',
				dialogClass: 'warning',
				autoOpen: false,
				show : 'slide',
				width: 400,
				modal: true,
				resizable: false,
				open: function() {
					if ($(this).parent().find('.ui-dialog-titlebar .warningIcon').length == 0) {
						$(this).parent()
					        .children('.ui-dialog-titlebar')
					        .prepend('<span class="warningIcon"></span>');
					}
				}
			});
			$('##{cc.attrs.value}FormModalDialog').show();
		});
		</script>
	</composite:implementation>
</ui:component>