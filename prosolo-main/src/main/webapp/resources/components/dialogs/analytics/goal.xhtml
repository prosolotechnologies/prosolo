<ui:component
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:composite="http://java.sun.com/jsf/composite"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:comp="http://java.sun.com/jsf/composite/components"
	xmlns:dlg="http://java.sun.com/jsf/composite/components/dialogs"
	xmlns:util="http://www.prosolo.com/util">
	
	<composite:interface>
		<composite:attribute name="goal"/>
	</composite:interface>
	
	<composite:implementation>
		<div id="goalStatisticsDialog" title="Goal Statistics" class="goalStatisticsDialog" style="display: none;">
			<h:form id="goalStatisticsDialogForm" prependId="false">
				
				<table>
					<tr>
						<td>Completion time:</td>
						<td>#{util:timeDuration(goalAnalyticsBean.data.completionTime)}</td>
					</tr>
				</table>
				
				<div class="clear marginBottom10"></div>
				<a class="button gray size30 right"
					onclick="$('#goalStatisticsDialog').dialog('close');">Close</a>										
	
			</h:form>
		</div>
		<script>
			$(function() {
				$('#goalStatisticsDialog').dialog({
					autoOpen : false,
					show : 'slide',
					modal : true,
					width : 300,
					resizable : false,
					open: function(event, ui) { 
						$(this).children(':first')
							.css('text-align', 'center')
							.css('padding-top', '50px')
							.html('<img src="#{request.contextPath}/resources/images/style/ajax-loader-black.gif" style="vertical-align:middle;"/>');
					},
				});
				$('#goalStatisticsDialog').show();
			});
		</script>
	</composite:implementation>
</ui:component>