<ui:composition
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:dlg="http://java.sun.com/jsf/composite/components/dialogs"
	xmlns:link="http://java.sun.com/jsf/composite/components/resourceLinks"
	xmlns:comp="http://java.sun.com/jsf/composite/components">
	
	<script>
		document.title = 'Search: Hashtags';
	</script>
	
	<div id="searchHashtags">
		<h2>Search: Hashtags</h2>
		
		<h:form>
			<div class="filteredSearch">
				<p:commandLink styleClass="button blue size25 right search"
					value="Search" type="submit"
					onclick="addLoaderToSearchContainer();"
					action="#{searchHashtagsBean.search()}"
					oncomplete="refreshActivityWall()"
				/>
				
				<div class="inputContainer">
					<div class="mGlass"></div>
					
				  	<h:inputText size="20" class="searchInput"
				  		onclick="$(this).select();" 
				  		onkeydown="searchListener();" />
				  		
				  	<h:inputHidden class="searchInputHidden"
						value="#{searchHashtagsBean.query}" 
				  	/>
				</div>
			</div>
		</h:form>

		<div class="separator clear marginBottom10"></div>
		
		<h:panelGroup layout="block" class="resultContainer main marginTop10" id="resultContainer" style="width: auto;">
		
			<comp:activitywall id="searchHashtagActivityWall"
				value="searchStatusWall"
				refreshRate="#{activityWall.refreshRate}"
				moreToLoadIndicator="#{searchHashtagsBean.moreToLoad}"
				allActivities="#{searchHashtagsBean.activityWallItems}"
				initializeHandler="#{searchHashtagsBean.refresh()}"
				refreshHandler="#{searchHashtagsBean.search()}"
				loadMoreHandler="#{searchHashtagsBean.loadMoreActivityWallItems()}"
				disabledPooling="true"
				noOptions="true"
				context="search.hashtags"/>
			
			<script type="text/javascript">
			$(function() {
				roundImages();
				
				var input = $('.inputContainer .searchInput');
				input[0].selectionStart = input[0].selectionEnd = input.val().length;
			});
			</script>
		</h:panelGroup>
	</div>
</ui:composition>