<ui:composition
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:dlg="http://java.sun.com/jsf/composite/components/dialogs"
	xmlns:utilcomp="http://java.sun.com/jsf/composite/components/util"
	xmlns:link="http://java.sun.com/jsf/composite/components/resourceLinks">
 
	<script>
		document.title = 'Search: Featured New';
	</script>
	
	<div id="searchFeaturedNews">
		<h2>Search: Featured News</h2>
		
		<h:form id="fNewsSearchForm">
			<h:panelGroup layout='block' id="fNewsSearchContainer" class="fNewsSearchContainer" style="display: none;">
				<ui:repeat value="#{searchFeaturedNewsBean.featuredNewsList}" var="newsData" 
				id="featuredNewsSearchListId" varStatus="iterator">
					<div class="separator clear"></div>
				
					<div class="box">
						<div class="avatar">
							<h:graphicImage styleClass="imageRound image30"
								value="#{newsData.creatorAvatar}"
								width="30" height="30" alt="" />
						</div>
						
						<div class="textWrapper">
							<div class="user">
								<link:user value="featuredNewsUser" 
				    				user="#{newsData.actor}"
				    				divClass="name"
				    				mode="name"
				    				idPrefix="featuredNews#{iterator.index}"
				    				context="featuredNews.name" />
								#{newsData.actionLabel}
								
								<link:goal
									goal="#{newsData.resource}" 
									title="#{newsData.resourceName}" 
									context="search.featuredNews" />
							</div>
						</div>
						
						<div class="date">#{newsData.prettyDateCreated}</div>
		            </div>
				</ui:repeat>
			</h:panelGroup>
			
			<utilcomp:lazyLoad 
				parentClass="search"
				updateOnComplete=":fNewsSearchForm:fNewsSearchContainer"
				loaderContainer=".fNewsSearchContainer"
				initializeAction="#{searchFeaturedNewsBean.init()}"
			/>
		</h:form>
	</div>
</ui:composition>