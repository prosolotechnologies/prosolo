<ui:composition
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:utilcomp="http://java.sun.com/jsf/composite/components/util"
	xmlns:comp="http://java.sun.com/jsf/composite/components"
	xmlns:link="http://java.sun.com/jsf/composite/components/resourceLinks"
	xmlns:icon="http://java.sun.com/jsf/composite/components/resourceLinks/icons">
	
	<utilcomp:messagesBundle var="msg" />
	
	<div class="sideBox sideRecommendedAct">
		<h3>Discover activities</h3>
		<div class="clear"></div>

		<div class="sideSearch">
			<h:panelGroup id="actSearchForm" class="activitySearchForm">
				<p:growl id="actSearchGrowl" showDetail="true" />
				
				<comp:searchActivities value="compActivities"
					container=".sideRecommendedAct"
					actionLinkName="Add"
					actionBean="#{compwall}"
					refreshCommand="refreshCompetenceActivityWall();"
					toExcludeIds="#{compwall.getAllActivitiesIds()}"
					regionToRenderOnAction="#{learninggoals.selectedGoalData.data.progressActivityDependent ? ':goalDetails' : ''} :activities:competenceDetails 
						:competenceList :newCompetenceButtonForm :compSearchForm"
					targetCompIdToPreselectWhenAdding="#{learninggoals.selectedGoalData.selectedCompetence.data.id}"
					disabled="#{learninggoals.completed}"
					disabledTooltip="#{msg['learn.disabledAsGoalIsCompleted.tooltip']}"
					context="learn.targetGoal.#{learninggoals.selectedGoalData.data.targetGoalId}.targetComp.#{learninggoals.selectedGoalData.selectedCompetence.data.id}"
				/>
			</h:panelGroup>
		</div><!-- end sideSearch -->
	</div>
</ui:composition>