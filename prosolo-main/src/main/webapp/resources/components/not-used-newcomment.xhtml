<ui:component
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:util="http://www.prosolo.com/util"
	xmlns:composite="http://java.sun.com/jsf/composite">

	<composite:interface>
		<composite:attribute name="watermark" type="java.lang.String" required="true"/>
		<composite:attribute name="content" type="java.lang.String" required="true"/>
		<composite:attribute name="actionButtonName" type="java.lang.String" default="post"/>
		<composite:attribute name="refreshCommand" type="java.lang.String" required="false"/>
		<composite:attribute name="regionToUpdate" type="java.lang.String" required="false"/>
		<composite:attribute name="context" />
		<composite:attribute name="commentAction"
			method-signature="void newComment(org.prosolo.web.activitywall.data.WallData, java.lang.String)"
			required="true"/>
	</composite:interface>
	
	<composite:implementation>
		<div class="addCommentBox">
			<div class="inactiveBox">
				<div class="watermark"></div>
			</div>
			
			<div class="expandableInputBox collapsed">
				<h:inputTextarea class="inputTextFieldHidden" value="#{cc.attrs.content}" />
				
				<div class="postButtonBox">
					<p:commandLink styleClass="postButton button green size25" 
						value="#{cc.attrs.actionButtonName}"
						action="#{cc.attrs.commentAction}"
						oncomplete="$('#{cc.attrs.refreshCommand}').trigger('click');"
						update="newCommentGrowl #{cc.attrs.regionToUpdate}">
						#{cc.clientId}
					</p:commandLink>
					
					<a class="cancelButton button gray size25"
						onclick="sendServiceUse('MOUSE_CLICK', {context: '#{cc.attrs.context}', link: 'cancel'})">Cancel</a>
				</div>
				<div class="clear"></div>
			</div>
			<p:growl id="newCommentGrowl" showDetail="true" />
		</div>
	</composite:implementation>
</ui:component>